<template>
    <div class="site-card">
        <div class="site-card-header">
            <h3 class="site-name">{site.name}</h3>
            <span class={statusBadgeClass}>{statusLabel}</span>
        </div>

        <div class="site-meta">
            <div class="meta-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12Z" stroke="currentColor" stroke-width="1.5" />
                    <path d="M8 5v3l2 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                </svg>
                <span>{lastModified}</span>
            </div>

            <div class="meta-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M2 4.667C2 3.747 2.746 3 3.667 3h8.666C13.253 3 14 3.746 14 4.667v6.666c0 .92-.746 1.667-1.667 1.667H3.667A1.667 1.667 0 0 1 2 11.333V4.667Z"
                        stroke="currentColor" stroke-width="1.5" />
                    <path d="M6 3v10M2 8h12" stroke="currentColor" stroke-width="1.5" />
                </svg>
                <span>{pageCountText}</span>
            </div>
        </div>

        <div class="site-actions">
            <button class="btn btn-primary" onclick={handleOpen}>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M11.333 2H4.667C3.747 2 3 2.746 3 3.667v8.666C3 13.253 3.746 14 4.667 14h6.666c.92 0 1.667-.746 1.667-1.667V3.667C13 2.747 12.254 2 11.333 2Z"
                        stroke="currentColor" stroke-width="1.5" />
                    <path d="M6 5.333h4M6 8h4M6 10.667h2.667" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" />
                </svg>
                Open Builder
            </button>

            <button class="btn btn-secondary" onclick={handlePreview}>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8 5.333c-2.667 0-4.88 1.827-5.64 4.334.76 2.506 2.973 4.333 5.64 4.333s4.88-1.827 5.64-4.333C12.88 7.16 10.667 5.333 8 5.333Z"
                        stroke="currentColor" stroke-width="1.5" />
                    <circle cx="8" cy="9.667" r="1.667" stroke="currentColor" stroke-width="1.5" />
                </svg>
                Preview
            </button>

            <button class="btn btn-icon btn-danger" onclick={handleDelete} title="Delete site">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M3.333 5.333h9.334M6.667 7.333v4M9.333 7.333v4M5.333 5.333V3.667a1 1 0 0 1 1-1h3.334a1 1 0 0 1 1 1v1.666m-6.667 0v7.667a1 1 0 0 0 1 1h5.333a1 1 0 0 0 1-1V5.333"
                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                </svg>
            </button>
        </div>
    </div>
</template>